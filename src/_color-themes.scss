// Themes

$themes: (
  default: (
    bg: $white-themed,
    fg: $gray-800,
    alt-accent-lightest: $blue-lightest,
    alt-accent-lighter: $blue-lighter,
    alt-accent-light: $blue-light,
    alt-accent: $blue-themed,
    main-accent: $teal,
    alt-accent-baby: $blue-baby,
    red-light: $red-light,
    red-lighter: $red-lighter,
    gray-shadow: $gray-shadow,
    white-themed: $white-themed,
    black-themed: $black-themed,
    gray-lightest: #f8f9fa,
    gray-lighter: $gray-200,
    gray-light: $gray-300,
    gray-dark: $gray-800,
    button-border-color: $black-themed,
    form-control-border: $black-themed,
    input-group-text-border: #ced4da,
    select-border: $gray-300,
    select-box-top: #f8f9fa,
    select-box-bottom: $gray-200,
    select-box-top-bevel: #fff,
    table-border: $gray-300,
    card-bg: $white-themed,
    card-border: #dfdfdf,
    card-footer-bg: #f7f7f7,
    toast-fg: #6c757d,
    toast-bg: $white-themed,
    toast-close: #000
  ),
  dark: (
    bg: #111,
    fg: $gray-200,
    alt-accent-lightest: #121925,
    alt-accent-lighter: #0f1e38,
    alt-accent-light: #1761da,
    alt-accent: #1959c9,
    main-accent: $teal-dark,
    alt-accent-baby: #00887a,
    red-light: #fd8383,
    red-lighter: #ffccbc,
    gray-shadow: #222,
    white-themed: #ddd,
    black-themed: $gray-200,
    gray-lightest: #222,
    gray-lighter: $gray-800,
    gray-light: $gray-500,
    gray-dark: $gray-200,
    button-border-color: #111,
    form-control-border: #888,
    input-group-text-border: #555,
    select-border: #555,
    select-box-top: $gray-800,
    select-box-bottom: #222,
    select-box-top-bevel: #222,
    table-border: #555,
    card-bg: #111,
    card-border: #333,
    card-footer-bg: #222,
    toast-fg: $gray-200,
    toast-bg: $gray-800,
    toast-close: #fff
  )
);

// credit: https://medium.com/@dmitriy.borodiy/easy-color-theming-with-scss-bc38fd5734d1
@mixin themed {
  @each $theme, $map in $themes {
    .theme--#{$theme} & {
      $theme-map: () !global;

      @each $key, $submap in $map {
        $value: map-get(map-get($themes, $theme), "#{$key}");
        /* stylelint-disable */
        $theme-map: map-merge(
          $theme-map,
          (
            $key: $value
          )
        ) !global;
      }
      /* stylelint-enable */
      @content;
      $theme-map: null !global;
    }
  }
}

// body rule needs special treatment, although this could probably be heavily simplified
@mixin themed_body {
  @each $theme, $map in $themes {
    .theme--#{$theme} {
      $theme-map: () !global;

      @each $key, $submap in $map {
        $value: map-get(map-get($themes, $theme), "#{$key}");
        /* stylelint-disable */
        $theme-map: map-merge(
          $theme-map,
          (
            $key: $value
          )
        ) !global;
      }
      /* stylelint-enable */
      @content;
      $theme-map: null !global;
    }
  }
}

@function t($key) {
  @return map-get($theme-map, $key);
}
